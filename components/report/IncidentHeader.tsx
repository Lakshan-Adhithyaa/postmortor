'use client';
import React from "react";
import { Dot } from "lucide-react";
import { Badge } from "@/components/ui/badge";
import GenerateButton from "../ui/GenerateButton";
import { toast } from "sonner";


const handleDownloadPdf = () => {
  window.print();
};

const handleCopyLink = () => {
  navigator.clipboard.writeText(window.location.href);
  toast("Link copied to your clipboard!", {
    style: {
      color: "#564787",
      background: "#F8F7FA",
    },
  });
};
interface IncidentHeaderProps {
  id: string;
  incident: string;
  date: string;
  duration: string;
}

const IncidentHeader = ({ id, incident ,date, duration }: IncidentHeaderProps) => {
  return (
    <div className="flex flex-col gap-5">
      <div className="flex flex-row gap-4">
        <Badge className="bg-[#FEF2F2] text-[#B91C1C] border-[#FADDDD] border-2 rounded">
          SEV 1
        </Badge>
        <Badge className="bg-[#F0FDF4] text-[#69995D] border-[#C4EBD2] border-2 rounded">
          Resolved
        </Badge>
      </div>
      <div className="flex flex-col gap-2.5">
        <h1 className="flex flex-row font-bold text-4xl items-center">
          Inc {id} - {incident}
        </h1>
        <div className="flex flex-row gap-4">
          <div className="flex flex-row gap-2.5 items-center">
            <svg
              width="18"
              height="20"
              viewBox="0 0 18 20"
              fill="none"
              xmlns="http://www.w3.org/2000/svg">
              <path
                d="M16.5 1.5H14.25V0.75C14.25 0.551088 14.171 0.360322 14.0303 0.21967C13.8897 0.0790176 13.6989 0 13.5 0C13.3011 0 13.1103 0.0790176 12.9697 0.21967C12.829 0.360322 12.75 0.551088 12.75 0.75V1.5H5.25V0.75C5.25 0.551088 5.17098 0.360322 5.03033 0.21967C4.88968 0.0790176 4.69891 0 4.5 0C4.30109 0 4.11032 0.0790176 3.96967 0.21967C3.82902 0.360322 3.75 0.551088 3.75 0.75V1.5H1.5C1.10218 1.5 0.720644 1.65804 0.43934 1.93934C0.158035 2.22064 0 2.60218 0 3V18C0 18.3978 0.158035 18.7794 0.43934 19.0607C0.720644 19.342 1.10218 19.5 1.5 19.5H16.5C16.8978 19.5 17.2794 19.342 17.5607 19.0607C17.842 18.7794 18 18.3978 18 18V3C18 2.60218 17.842 2.22064 17.5607 1.93934C17.2794 1.65804 16.8978 1.5 16.5 1.5ZM16.5 6H1.5V3H3.75V3.75C3.75 3.94891 3.82902 4.13968 3.96967 4.28033C4.11032 4.42098 4.30109 4.5 4.5 4.5C4.69891 4.5 4.88968 4.42098 5.03033 4.28033C5.17098 4.13968 5.25 3.94891 5.25 3.75V3H12.75V3.75C12.75 3.94891 12.829 4.13968 12.9697 4.28033C13.1103 4.42098 13.3011 4.5 13.5 4.5C13.6989 4.5 13.8897 4.42098 14.0303 4.28033C14.171 4.13968 14.25 3.94891 14.25 3.75V3H16.5V6Z"
                fill="#564787"
              />
            </svg>
            <p className="text-[14px]">{date}</p>
          </div>
          <div className="flex flex-row gap-2.5 items items-center">
            <svg
              width="20"
              height="20"
              viewBox="0 0 20 20"
              fill="none"
              xmlns="http://www.w3.org/2000/svg">
              <path
                d="M9.75 0C7.82164 0 5.93657 0.571828 4.33319 1.64317C2.72982 2.71451 1.48013 4.23726 0.742179 6.01884C0.00422452 7.80042 -0.188858 9.76082 0.187348 11.6521C0.563554 13.5434 1.49215 15.2807 2.85571 16.6443C4.21928 18.0079 5.95656 18.9365 7.84787 19.3127C9.73919 19.6889 11.6996 19.4958 13.4812 18.7578C15.2627 18.0199 16.7855 16.7702 17.8568 15.1668C18.9282 13.5634 19.5 11.6784 19.5 9.75C19.4973 7.16498 18.4692 4.68661 16.6413 2.85872C14.8134 1.03084 12.335 0.00272983 9.75 0ZM15 10.5H9.75C9.55109 10.5 9.36033 10.421 9.21967 10.2803C9.07902 10.1397 9 9.94891 9 9.75V4.5C9 4.30109 9.07902 4.11032 9.21967 3.96967C9.36033 3.82902 9.55109 3.75 9.75 3.75C9.94892 3.75 10.1397 3.82902 10.2803 3.96967C10.421 4.11032 10.5 4.30109 10.5 4.5V9H15C15.1989 9 15.3897 9.07902 15.5303 9.21967C15.671 9.36032 15.75 9.55109 15.75 9.75C15.75 9.94891 15.671 10.1397 15.5303 10.2803C15.3897 10.421 15.1989 10.5 15 10.5Z"
                fill="#564787"
              />
            </svg>
            <p className="text-[14px]">Duration: {duration}</p>
          </div>
          <div className="flex flex-row gap-2.5 items-center">
            <svg
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg">
              <path
                d="M18.75 4.5H12.75V1.5C12.75 1.30109 12.671 1.11032 12.5303 0.96967C12.3897 0.829018 12.1989 0.75 12 0.75C11.8011 0.75 11.6103 0.829018 11.4697 0.96967C11.329 1.11032 11.25 1.30109 11.25 1.5V4.5H5.25C4.45435 4.5 3.69129 4.81607 3.12868 5.37868C2.56607 5.94129 2.25 6.70435 2.25 7.5V18C2.25 18.7956 2.56607 19.5587 3.12868 20.1213C3.69129 20.6839 4.45435 21 5.25 21H18.75C19.5456 21 20.3087 20.6839 20.8713 20.1213C21.4339 19.5587 21.75 18.7956 21.75 18V7.5C21.75 6.70435 21.4339 5.94129 20.8713 5.37868C20.3087 4.81607 19.5456 4.5 18.75 4.5ZM16.125 9C16.3475 9 16.565 9.06598 16.75 9.1896C16.935 9.31321 17.0792 9.48891 17.1644 9.69448C17.2495 9.90005 17.2718 10.1262 17.2284 10.3445C17.185 10.5627 17.0778 10.7632 16.9205 10.9205C16.7632 11.0778 16.5627 11.185 16.3445 11.2284C16.1262 11.2718 15.9 11.2495 15.6945 11.1644C15.4889 11.0792 15.3132 10.935 15.1896 10.75C15.066 10.565 15 10.3475 15 10.125C15 9.82663 15.1185 9.54048 15.3295 9.3295C15.5405 9.11853 15.8266 9 16.125 9ZM9 17.25H7.5C7.10218 17.25 6.72064 17.092 6.43934 16.8107C6.15804 16.5294 6 16.1478 6 15.75C6 15.3522 6.15804 14.9706 6.43934 14.6893C6.72064 14.408 7.10218 14.25 7.5 14.25H9V17.25ZM7.875 11.25C7.6525 11.25 7.43499 11.184 7.24998 11.0604C7.06498 10.9368 6.92078 10.7611 6.83564 10.5555C6.75049 10.35 6.72821 10.1238 6.77162 9.90552C6.81502 9.68729 6.92217 9.48684 7.0795 9.3295C7.23684 9.17217 7.43729 9.06502 7.65552 9.02162C7.87375 8.97821 8.09995 9.00049 8.30552 9.08564C8.51109 9.17078 8.68679 9.31498 8.8104 9.49998C8.93402 9.68499 9 9.9025 9 10.125C9 10.4234 8.88147 10.7095 8.6705 10.9205C8.45952 11.1315 8.17337 11.25 7.875 11.25ZM13.5 17.25H10.5V14.25H13.5V17.25ZM16.5 17.25H15V14.25H16.5C16.8978 14.25 17.2794 14.408 17.5607 14.6893C17.842 14.9706 18 15.3522 18 15.75C18 16.1478 17.842 16.5294 17.5607 16.8107C17.2794 17.092 16.8978 17.25 16.5 17.25Z"
                fill="#564787"
              />
            </svg>
            <p className="text-[14px]">Generated by AI from logs and metrics</p>
          </div>
        </div>
      </div>
      <div className="flex flex-row gap-3.75">
        <GenerateButton
          text="Download as pdf"
          onClick={handleDownloadPdf}
          icon=<svg
            width="15"
            height="15"
            viewBox="0 0 15 15"
            fill="none"
            xmlns="http://www.w3.org/2000/svg">
            <path
              d="M14.0625 8.71875V13.2188C14.0625 13.4425 13.9736 13.6571 13.8154 13.8154C13.6571 13.9736 13.4425 14.0625 13.2188 14.0625H0.84375C0.619974 14.0625 0.405362 13.9736 0.247129 13.8154C0.0888949 13.6571 0 13.4425 0 13.2188V8.71875C0 8.49497 0.0888949 8.28036 0.247129 8.12213C0.405362 7.9639 0.619974 7.875 0.84375 7.875C1.06753 7.875 1.28214 7.9639 1.44037 8.12213C1.59861 8.28036 1.6875 8.49497 1.6875 8.71875V12.375H12.375V8.71875C12.375 8.49497 12.4639 8.28036 12.6221 8.12213C12.7804 7.9639 12.995 7.875 13.2188 7.875C13.4425 7.875 13.6571 7.9639 13.8154 8.12213C13.9736 8.28036 14.0625 8.49497 14.0625 8.71875ZM6.4343 9.3157C6.51268 9.39436 6.60583 9.45678 6.70839 9.49936C6.81095 9.54195 6.9209 9.56387 7.03195 9.56387C7.143 9.56387 7.25296 9.54195 7.35552 9.49936C7.45808 9.45678 7.55122 9.39436 7.62961 9.3157L10.4421 6.5032C10.6006 6.34469 10.6897 6.12971 10.6897 5.90555C10.6897 5.68138 10.6006 5.4664 10.4421 5.30789C10.2836 5.14938 10.0686 5.06033 9.84445 5.06033C9.62029 5.06033 9.4053 5.14938 9.2468 5.30789L7.875 6.67969V0.84375C7.875 0.619974 7.7861 0.405362 7.62787 0.247129C7.46964 0.0888949 7.25503 0 7.03125 0C6.80747 0 6.59286 0.0888949 6.43463 0.247129C6.27639 0.405362 6.1875 0.619974 6.1875 0.84375V6.67969L4.8157 5.3093C4.73722 5.23081 4.64404 5.16855 4.5415 5.12608C4.43895 5.0836 4.32904 5.06174 4.21805 5.06174C3.99388 5.06174 3.7789 5.15079 3.62039 5.3093C3.54191 5.38778 3.47965 5.48096 3.43717 5.5835C3.3947 5.68605 3.37283 5.79596 3.37283 5.90695C3.37283 6.13112 3.46188 6.3461 3.62039 6.50461L6.4343 9.3157Z"
              fill="white"
            />
          </svg>
        />
        <GenerateButton
          variant="whitebg"
          text="Copy link"
          onClick={handleCopyLink}
          icon=<svg
            width="18"
            height="18"
            viewBox="0 0 18 18"
            fill="none"
            xmlns="http://www.w3.org/2000/svg">
            <path
              d="M15.1875 1.96875H6.1875C5.96372 1.96875 5.74911 2.05764 5.59088 2.21588C5.43264 2.37411 5.34375 2.58872 5.34375 2.8125V5.34375H2.8125C2.58872 5.34375 2.37411 5.43264 2.21588 5.59088C2.05764 5.74911 1.96875 5.96372 1.96875 6.1875V15.1875C1.96875 15.4113 2.05764 15.6259 2.21588 15.7841C2.37411 15.9424 2.58872 16.0312 2.8125 16.0312H11.8125C12.0363 16.0312 12.2509 15.9424 12.4091 15.7841C12.5674 15.6259 12.6562 15.4113 12.6562 15.1875V12.6562H15.1875C15.4113 12.6562 15.6259 12.5674 15.7841 12.4091C15.9424 12.2509 16.0312 12.0363 16.0312 11.8125V2.8125C16.0312 2.58872 15.9424 2.37411 15.7841 2.21588C15.6259 2.05764 15.4113 1.96875 15.1875 1.96875ZM10.9688 14.3438H3.65625V7.03125H10.9688V14.3438ZM14.3438 10.9688H12.6562V6.1875C12.6562 5.96372 12.5674 5.74911 12.4091 5.59088C12.2509 5.43264 12.0363 5.34375 11.8125 5.34375H7.03125V3.65625H14.3438V10.9688Z"
              fill="#564787"
            />
          </svg>
        />
      </div>
    </div>
  );
};

export default IncidentHeader;
